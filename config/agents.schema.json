{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Diverga Agents Configuration",
  "description": "Single Source of Truth for all 44 Diverga research agents (v8.4.0)",
  "type": "object",
  "required": ["$schema", "version", "agents"],
  "properties": {
    "$schema": {
      "type": "string",
      "const": "./agents.schema.json"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "agents": {
      "type": "array",
      "minItems": 44,
      "maxItems": 44,
      "items": {
        "$ref": "#/$defs/Agent"
      }
    }
  },
  "$defs": {
    "Agent": {
      "type": "object",
      "required": [
        "id",
        "fullId",
        "directoryName",
        "displayName",
        "description",
        "category",
        "categoryName",
        "tier",
        "model",
        "icon",
        "tools",
        "vsLevel",
        "vsPhases",
        "triggers",
        "paradigmAffinity",
        "checkpoints",
        "creativityModules",
        "prerequisites",
        "ownCheckpoints",
        "entryPoint"
      ],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-i]\\d+$",
          "description": "Short agent ID (e.g., a1, b2, i0)"
        },
        "fullId": {
          "type": "string",
          "pattern": "^diverga:[a-i]\\d+$",
          "description": "Fully qualified agent ID (e.g., diverga:a1)"
        },
        "directoryName": {
          "type": "string",
          "pattern": "^[A-I]\\d+-[a-z0-9-]+$",
          "description": "Directory name for agent files (e.g., A1-research-question-refiner)"
        },
        "displayName": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "minLength": 1
        },
        "category": {
          "type": "string",
          "enum": ["A", "B", "C", "D", "E", "F", "G", "H", "I"]
        },
        "categoryName": {
          "type": "string",
          "enum": [
            "Research Foundation",
            "Literature & Evidence",
            "Study Design",
            "Data Collection",
            "Analysis",
            "Quality & Validation",
            "Publication & Communication",
            "Specialized Approaches",
            "Systematic Review Automation"
          ]
        },
        "tier": {
          "type": "string",
          "enum": ["HIGH", "MEDIUM", "LOW"]
        },
        "model": {
          "type": "string",
          "enum": ["opus", "sonnet", "haiku"]
        },
        "icon": {
          "type": "string",
          "minLength": 1
        },
        "tools": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "vsLevel": {
          "type": "string",
          "enum": ["Full", "Enhanced", "Light"]
        },
        "vsPhases": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 0,
            "maximum": 5
          }
        },
        "triggers": {
          "type": "object",
          "required": ["en"],
          "properties": {
            "en": {
              "type": "array",
              "items": { "type": "string" }
            },
            "ko": {
              "type": "array",
              "items": { "type": "string" }
            }
          },
          "additionalProperties": false
        },
        "paradigmAffinity": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["quantitative", "qualitative", "mixed"]
          }
        },
        "checkpoints": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "creativityModules": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "forced-analogy",
              "iterative-loop",
              "semantic-distance",
              "temporal-reframing",
              "community-simulation"
            ]
          }
        },
        "prerequisites": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "ownCheckpoints": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/OwnCheckpoint"
          }
        },
        "entryPoint": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "OwnCheckpoint": {
      "type": "object",
      "required": ["id", "level"],
      "properties": {
        "id": {
          "type": "string"
        },
        "level": {
          "type": "string",
          "enum": ["required", "recommended", "optional"]
        }
      },
      "additionalProperties": false
    }
  }
}