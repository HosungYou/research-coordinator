# Agent Registry - Research Coordinator v3.1.0
# Centralized agent capabilities, schemas, and metadata
# Based on: Codex Review architectural recommendations

version: "3.1.0"
last_updated: "2025-01-24"

# =============================================================================
# REGISTRY METADATA
# =============================================================================

registry:
  description: "Centralized registry for 21 research agents with VS methodology"
  schema_version: "1.0.0"
  contract_reference: "agent-contract-schema.md"

# =============================================================================
# V3.0 ENHANCEMENTS
# =============================================================================

v3_config:
  modular_structure:
    core: ["vs-engine.md", "t-score-dynamic.md"]
    creativity: ["forced-analogy.md", "iterative-loop.md", "semantic-distance.md", "temporal-reframing.md", "community-simulation.md"]
    interaction: ["user-checkpoints.md"]

  upgrade_levels:
    FULL:
      agents: ["02", "03", "05", "10", "16", "21"]
      features:
        - dynamic_t_score: true
        - all_creativity_modules: true
        - all_checkpoints: true
    ENHANCED:
      agents: ["01", "04", "06", "07", "08", "09"]
      features:
        - dynamic_t_score: true
        - selective_creativity: true
        - key_checkpoints: true
    LIGHT:
      agents: ["11", "12", "13", "14", "15", "17", "18", "19", "20"]
      features:
        - static_t_score: true
        - no_creativity: true
        - minimal_checkpoints: true

  creativity_activation:
    Conservative: []
    Balanced: ["forced-analogy", "iterative-loop", "semantic-distance"]
    Innovative: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
    Extreme: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]

# =============================================================================
# CATEGORY A: THEORY & RESEARCH DESIGN (01-04)
# =============================================================================

agents:
  "01-research-question-refiner":
    name: "Research Question Refiner"
    icon: "üî¨"
    category: "A - Theory & Design"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "Vague idea ‚Üí specific research question"
      - "PICO/SPIDER framework application"
      - "Scope optimization"

    input_schema:
      required:
        - research_idea: "string"
        - domain: "string"
      optional:
        - target_journal_level: "enum[top-tier, mid-tier, general]"
        - methodology_preference: "enum[quantitative, qualitative, mixed]"

    output_schema:
      main_output:
        refined_questions: "list[RQ]"
        pico_elements: "object"
        scope_assessment: "object"

    t_score_domains:
      - "Research question formulation patterns"
      - "PICO/SPIDER variations"

    triggers:
      keywords: ["Ïó∞Íµ¨ ÏßàÎ¨∏", "research question", "PICO", "SPIDER", "Ïó∞Íµ¨ ÏïÑÏù¥ÎîîÏñ¥"]
      context: ["research planning", "proposal writing"]

    dependencies:
      sequential_next: ["02-theoretical-framework-architect"]
      parallel_compatible: ["05-systematic-literature-scout"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

  "02-theoretical-framework-architect":
    name: "Theoretical Framework Architect"
    icon: "üèõÔ∏è"
    category: "A - Theory & Design"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "Theory selection and justification"
      - "Conceptual model design"
      - "Hypothesis generation"
      - "Novel theory integration"

    input_schema:
      required:
        - research_question: "string"
        - domain: "string"
      optional:
        - existing_theories: "list[string]"
        - innovation_level: "float[0-1]"

    output_schema:
      main_output:
        recommended_theories: "list[Theory]"
        conceptual_model: "object"
        hypotheses: "list[Hypothesis]"
        theoretical_contribution: "string"

    t_score_domains:
      - "Psychology theories"
      - "Education theories"
      - "HRD/Management theories"
      - "Theory integration patterns"

    triggers:
      keywords: ["Ïù¥Î°†Ï†Å ÌîÑÎ†àÏûÑÏõåÌÅ¨", "theoretical framework", "conceptual model", "Í∞ÄÏÑ§"]
      context: ["theory development", "framework design"]

    dependencies:
      requires: ["01-research-question-refiner"]
      sequential_next: ["09-research-design-consultant"]
      parallel_compatible: ["03-devils-advocate"]

    self_critique_required: true

    # v3.0 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-INIT-003", "CP-VS-001", "CP-VS-002", "CP-VS-003"]

  "03-devils-advocate":
    name: "Devil's Advocate"
    icon: "üòà"
    category: "A - Theory & Design"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "Weakness identification"
      - "Alternative explanations"
      - "Validity threat analysis"
      - "Reviewer 2 simulation"

    input_schema:
      required:
        - research_design: "object"
      optional:
        - critique_intensity: "enum[gentle, moderate, harsh]"
        - focus_areas: "list[string]"

    output_schema:
      main_output:
        critiques: "list[Critique]"
        alternative_explanations: "list[string]"
        validity_threats: "object"
        rebuttals: "list[Rebuttal]"

    t_score_domains:
      - "Common critique patterns"
      - "Validity threat categories"
      - "Alternative explanation types"

    triggers:
      keywords: ["ÎπÑÌåê", "critique", "ÏïΩÏ†ê", "ÎåÄÏïàÏ†Å ÏÑ§Î™Ö", "Reviewer 2"]
      context: ["design validation", "pre-submission review"]

    dependencies:
      requires: ["02-theoretical-framework-architect", "09-research-design-consultant"]
      parallel_compatible: ["16-bias-detector"]

    self_critique_required: true

    # v3.0 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-INIT-003", "CP-VS-001", "CP-VS-002", "CP-VS-003"]

  "04-research-ethics-advisor":
    name: "Research Ethics Advisor"
    icon: "‚öñÔ∏è"
    category: "A - Theory & Design"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "IRB preparation"
      - "Ethical risk assessment"
      - "Informed consent guidance"
      - "Privacy compliance"

    input_schema:
      required:
        - research_design: "object"
        - participant_type: "string"
      optional:
        - jurisdiction: "string"
        - data_sensitivity: "enum[low, medium, high]"

    output_schema:
      main_output:
        ethical_assessment: "object"
        irb_checklist: "list[ChecklistItem]"
        consent_template: "string"
        risk_mitigation: "list[string]"

    triggers:
      keywords: ["Ïú§Î¶¨", "IRB", "informed consent", "Í∞úÏù∏Ï†ïÎ≥¥", "Ïó∞Íµ¨Ïú§Î¶¨"]
      context: ["protocol development", "IRB submission"]

    dependencies:
      parallel_compatible: ["09-research-design-consultant"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

# =============================================================================
# CATEGORY B: LITERATURE & EVIDENCE (05-08)
# =============================================================================

  "05-systematic-literature-scout":
    name: "Systematic Literature Scout"
    icon: "üìö"
    category: "B - Literature & Evidence"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "Search strategy design"
      - "Database selection"
      - "Query optimization"
      - "Grey literature identification"

    input_schema:
      required:
        - research_question: "string"
        - review_type: "enum[systematic, scoping, rapid]"
      optional:
        - databases: "list[string]"
        - date_range: "object"
        - language_restrictions: "list[string]"

    output_schema:
      main_output:
        search_strategy: "object"
        database_queries: "list[Query]"
        prisma_flow: "object"
        search_results_summary: "object"

    t_score_domains:
      - "Search strategy patterns"
      - "Database combinations"
      - "Boolean operator usage"

    triggers:
      keywords: ["Î¨∏Ìóå Í≤ÄÌÜ†", "systematic review", "PRISMA", "Í≤ÄÏÉâ Ï†ÑÎûµ"]
      context: ["literature review", "meta-analysis preparation"]

    self_critique_required: true

    # v3.0 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-INIT-003", "CP-VS-001", "CP-VS-002", "CP-VS-003"]

  "06-evidence-quality-appraiser":
    name: "Evidence Quality Appraiser"
    icon: "‚≠ê"
    category: "B - Literature & Evidence"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "Study quality assessment"
      - "Risk of bias evaluation"
      - "Evidence grading (GRADE)"

    triggers:
      keywords: ["ÌíàÏßà ÌèâÍ∞Ä", "RoB", "GRADE", "ÎπÑÎö§Î¶º ÏúÑÌóò"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

  "07-effect-size-extractor":
    name: "Effect Size Extractor"
    icon: "üìä"
    category: "B - Literature & Evidence"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "Effect size calculation"
      - "Scale standardization"
      - "Missing data imputation"

    triggers:
      keywords: ["Ìö®Í≥ºÌÅ¨Í∏∞", "effect size", "Cohen's d", "Hedges' g"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

  "08-research-radar":
    name: "Research Radar"
    icon: "üì°"
    category: "B - Literature & Evidence"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "New publication monitoring"
      - "Citation alerts"
      - "Trend analysis"

    triggers:
      keywords: ["ÏµúÏã† Ïó∞Íµ¨", "Ìä∏Î†åÎìú", "citation alert"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

# =============================================================================
# CATEGORY C: METHODOLOGY & ANALYSIS (09-12)
# =============================================================================

  "09-research-design-consultant":
    name: "Research Design Consultant"
    icon: "üéØ"
    category: "C - Methodology & Analysis"
    vs_level: "Enhanced"
    vs_phases: [0, 1, 2, 4]

    capabilities:
      - "Design selection"
      - "Sampling strategy"
      - "Power analysis"

    triggers:
      keywords: ["Ïó∞Íµ¨ ÏÑ§Í≥Ñ", "Ïã§Ìóò ÏÑ§Í≥Ñ", "sampling", "Í≤ÄÏ†ïÎ†•"]

    # v3.0 enhancements
    upgrade_level: "ENHANCED"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "semantic-distance"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-VS-001"]

  "10-statistical-analysis-guide":
    name: "Statistical Analysis Guide"
    icon: "üìà"
    category: "C - Methodology & Analysis"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "Analysis method selection"
      - "Assumption checking"
      - "Result interpretation"
      - "Alternative methods"

    t_score_domains:
      - "Statistical methods"
      - "Model specifications"
      - "Robustness checks"

    triggers:
      keywords: ["ÌÜµÍ≥Ñ Î∂ÑÏÑù", "ÌöåÍ∑ÄÎ∂ÑÏÑù", "ANOVA", "SEM"]

    self_critique_required: true

    # v3.0 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-INIT-003", "CP-VS-001", "CP-VS-002", "CP-VS-003"]

  "11-analysis-code-generator":
    name: "Analysis Code Generator"
    icon: "üíª"
    category: "C - Methodology & Analysis"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    capabilities:
      - "R code generation"
      - "Python code generation"
      - "SPSS/Stata syntax"

    triggers:
      keywords: ["R ÏΩîÎìú", "Python ÏΩîÎìú", "SPSS", "Stata"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "12-sensitivity-analysis-designer":
    name: "Sensitivity Analysis Designer"
    icon: "üîç"
    category: "C - Methodology & Analysis"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    capabilities:
      - "Robustness check design"
      - "Multiverse analysis"
      - "Specification curve"

    triggers:
      keywords: ["ÎØºÍ∞êÎèÑ Î∂ÑÏÑù", "robustness", "multiverse"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

# =============================================================================
# CATEGORY D: QUALITY & VALIDATION (13-16)
# =============================================================================

  "13-internal-consistency-checker":
    name: "Internal Consistency Checker"
    icon: "‚úÖ"
    category: "D - Quality & Validation"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["ÏùºÍ¥ÄÏÑ±", "consistency", "ÎÖºÎ¶¨Ï†Å Í≤ÄÏ¶ù"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "14-checklist-manager":
    name: "Checklist Manager"
    icon: "üìã"
    category: "D - Quality & Validation"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["PRISMA", "CONSORT", "STROBE", "Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "15-reproducibility-auditor":
    name: "Reproducibility Auditor"
    icon: "üõ°Ô∏è"
    category: "D - Quality & Validation"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["Ïû¨ÌòÑÏÑ±", "OSF", "Ïò§Ìîà ÏÇ¨Ïù¥Ïñ∏Ïä§"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "16-bias-detector":
    name: "Bias Detector"
    icon: "üîé"
    category: "D - Quality & Validation"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "p-hacking detection"
      - "HARKing identification"
      - "Publication bias assessment"
      - "QRP screening"

    t_score_domains:
      - "Bias detection patterns"
      - "QRP indicators"
      - "Statistical red flags"

    triggers:
      keywords: ["Ìé∏Ìñ•", "p-hacking", "HARKing", "QRP"]

    self_critique_required: true

    # v3.0 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance", "temporal-reframing", "community-simulation"]
      checkpoints: ["CP-INIT-001", "CP-INIT-002", "CP-INIT-003", "CP-VS-001", "CP-VS-002", "CP-VS-003"]

# =============================================================================
# CATEGORY E: PUBLICATION & COMMUNICATION (17-20)
# =============================================================================

  "17-journal-matcher":
    name: "Journal Matcher"
    icon: "üìù"
    category: "E - Publication & Communication"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["Ï†ÄÎÑê", "Ìà¨Í≥†", "impact factor"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "18-academic-communicator":
    name: "Academic Communicator"
    icon: "üé§"
    category: "E - Publication & Communication"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["Ï¥àÎ°ù", "plain language", "ÌîÑÎ†àÏä§ Î¶¥Î¶¨Ï¶à"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "19-peer-review-strategist":
    name: "Peer Review Strategist"
    icon: "üîÑ"
    category: "E - Publication & Communication"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["Î¶¨Î∑∞Ïñ¥", "Ïã¨ÏÇ¨Ìèâ", "response letter"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "20-preregistration-composer":
    name: "Pre-registration Composer"
    icon: "üìÑ"
    category: "E - Publication & Communication"
    vs_level: "Light"
    vs_phases: [0, 1, 4]

    triggers:
      keywords: ["ÏÇ¨Ï†ÑÎì±Î°ù", "OSF", "AsPredicted"]

    # v3.0 enhancements
    upgrade_level: "LIGHT"
    v3_integration:
      dynamic_t_score: false
      creativity_modules: []
      checkpoints: ["CP-INIT-001"]

  "21-conceptual-framework-visualizer":
    name: "Conceptual Framework Visualizer"
    icon: "üé®"
    category: "E - Publication & Communication"
    vs_level: "Full"
    vs_phases: [0, 1, 2, 3, 4, 5]

    capabilities:
      - "Code-First visualization generation"
      - "Multi-modality support (Mermaid/Graphviz/Python/D3.js)"
      - "T-Score based creative sampling"
      - "Academic publication quality figures"
      - "Theoretical model diagram generation"

    input_schema:
      required:
        - research_context:
            research_question: "string"
            theoretical_background: "string"
            key_variables: "list[Variable]"
            hypotheses: "list[Hypothesis]"
      optional:
        - target_journal_style: "enum[APA, Nature, SSCI]"
        - preferred_visualization_type: "string"
        - t_score_preference: "enum[conservative, balanced, innovative]"
        - color_palette: "string"

    output_schema:
      main_output:
        logical_structure: "object"
        modal_visualizations: "list[ModalVisualization]"
        recommended_visualization: "object"
        rendering_code: "object"
        style_guide: "object"

    t_score_domains:
      - "Visualization type selection patterns"
      - "Color palette choices"
      - "Layout structure decisions"
      - "Diagram complexity levels"

    triggers:
      keywords: ["conceptual framework", "Í∞úÎÖêÏ†Å Î™®Ìòï", "Ïù¥Î°† Î™®Îç∏ ÏãúÍ∞ÅÌôî", "Discussion figure", "Î≥ÄÏàò Í¥ÄÍ≥ÑÎèÑ", "framework diagram"]
      context: ["paper writing", "discussion section", "figure creation"]

    dependencies:
      receives_from: ["02-theoretical-framework-architect", "10-statistical-analysis-guide"]
      sends_to: ["18-academic-communicator"]
      review_by: ["03-devils-advocate"]
      parallel_compatible: ["17-journal-matcher"]

    self_critique_required: true

    # v3.1 enhancements
    upgrade_level: "FULL"
    v3_integration:
      dynamic_t_score: true
      creativity_modules: ["forced-analogy", "iterative-loop", "semantic-distance"]
      checkpoints: ["CP_VISUALIZATION_PREFERENCE", "CP_T_SCORE_APPROVAL", "CP_CODE_EXECUTION", "CP_ORIGINALITY_CHECK"]

    technology_stack:
      mermaid:
        use_case: "Quick prototypes, simple flowcharts"
        complexity: "low"
      graphviz:
        use_case: "Hierarchical/network structures"
        complexity: "medium"
      python_networkx:
        use_case: "Data-driven visualizations"
        complexity: "high"
      d3js_svg:
        use_case: "Publication-ready figures"
        complexity: "highest"

    color_palettes:
      academic_modern:
        navy: "#1a365d"
        gold: "#c4a35a"
        terracotta: "#c67d5a"
        sage: "#87a878"
      t_score: 0.45

# =============================================================================
# WORKFLOW ORCHESTRATION
# =============================================================================

workflows:
  "full-research-cycle":
    description: "Complete research workflow from idea to publication"
    stages:
      - stage: "planning"
        agents: ["01", "02", "03", "04"]
        parallel_groups:
          - ["01"]
          - ["02", "03"]
          - ["04"]

      - stage: "literature"
        agents: ["05", "06", "07", "08"]
        parallel_groups:
          - ["05"]
          - ["06", "07"]
          - ["08"]

      - stage: "methods"
        agents: ["09", "10", "11", "12"]

      - stage: "validation"
        agents: ["13", "14", "15", "16"]
        parallel_groups:
          - ["13", "14", "15", "16"]

      - stage: "publication"
        agents: ["17", "18", "19", "20", "21"]
        parallel_groups:
          - ["17", "21"]
          - ["18"]
          - ["19", "20"]

  "meta-analysis":
    description: "Meta-analysis specific workflow"
    agents: ["01", "02", "05", "06", "07", "10", "12", "16", "17"]

  "quick-review":
    description: "Rapid literature review"
    agents: ["01", "05", "14"]

  "v3-creative-research":
    description: "v3.0 creativity-enhanced research workflow"
    creativity_level: "Innovative"
    agents: ["01", "02", "03", "05", "10", "16", "21"]
    creativity_modules_enabled: true
    checkpoints_enabled: true

  "visualization-pipeline":
    description: "v3.1 Conceptual Framework visualization workflow"
    agents: ["02", "10", "21", "03", "18"]
    sequence:
      - step: "theory_extraction"
        agent: "02"
        output: "theoretical_structure_json"
      - step: "statistical_context"
        agent: "10"
        output: "analysis_results"
      - step: "visualization_generation"
        agent: "21"
        input: ["theoretical_structure_json", "analysis_results"]
        output: "rendering_code"
      - step: "critical_review"
        agent: "03"
        input: "rendering_code"
        output: "feedback"
      - step: "caption_generation"
        agent: "18"
        input: "rendering_code"
        output: "figure_caption"

# =============================================================================
# EVALUATION METRICS
# =============================================================================

evaluation:
  vs_compliance:
    - "modal_identification_rate"
    - "t_score_distribution"
    - "phase_completion_rate"
    - "novelty_vs_safety_balance"

  output_quality:
    - "schema_compliance"
    - "provenance_completeness"
    - "self_critique_depth"

  inter_agent:
    - "handoff_success_rate"
    - "context_preservation"
    - "dependency_satisfaction"
