# Human Decision Checkpoints for Research Coordinator v6.0
# These checkpoints REQUIRE human approval before proceeding
# Core Principle: ì¸ê°„ì´ í•  ì¼ì€ ì¸ê°„ì´, AIëŠ” ì¸ê°„ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì‘ì—… ìˆ˜í–‰

checkpoints:
  # ============================================
  # REQUIRED (ğŸ”´ Red) - Must have human approval
  # ============================================
  CP_RESEARCH_DIRECTION:
    level: required
    icon: "ğŸ”´"
    description: "Research direction and question approval"
    applies_to: [A1-research-question-refiner]
    human_action: "Review and approve research question"
    cannot_proceed_without: true

  CP_PARADIGM_SELECTION:
    level: required
    icon: "ğŸ”´"
    description: "Research paradigm selection (Quantitative/Qualitative/Mixed)"
    applies_to: [A5-paradigm-worldview-advisor]
    human_action: "Select and approve research paradigm"
    cannot_proceed_without: true

  CP_THEORY_SELECTION:
    level: required
    icon: "ğŸ”´"
    description: "Theoretical framework selection"
    applies_to: [A2-theoretical-framework-architect]
    human_action: "Select and approve theoretical framework"
    cannot_proceed_without: true

  CP_METHODOLOGY_APPROVAL:
    level: required
    icon: "ğŸ”´"
    description: "Research methodology approval"
    applies_to:
      - A4-research-ethics-advisor
      - C1-quantitative-design-consultant
      - C2-qualitative-design-consultant
      - C3-mixed-methods-design-consultant
      - D4-measurement-instrument-developer
      - H1-ethnographic-research-advisor
      - H2-action-research-facilitator
    human_action: "Approve research design and methodology"
    cannot_proceed_without: true

  SCH_API_KEY_VALIDATION:
    level: required
    icon: "ğŸ”´"
    description: "API key validation for selected databases"
    applies_to: [I1-paper-retrieval-agent]
    human_action: "Provide missing API keys or adjust database selection"
    cannot_proceed_without: true

  # ============================================
  # RECOMMENDED (ğŸŸ  Orange) - Should have human review
  # ============================================
  CP_ANALYSIS_PLAN:
    level: recommended
    icon: "ğŸŸ "
    description: "Analysis plan review"
    applies_to: [E1-quantitative-analysis-guide]
    human_action: "Review statistical/qualitative analysis plan"
    can_auto_proceed: false

  CP_INTEGRATION_STRATEGY:
    level: recommended
    icon: "ğŸŸ "
    description: "Mixed methods integration strategy"
    applies_to: [E3-mixed-methods-integration]
    human_action: "Review integration approach"
    can_auto_proceed: false

  CP_QUALITY_REVIEW:
    level: recommended
    icon: "ğŸŸ "
    description: "Quality review of outputs"
    applies_to: [A6-conceptual-framework-visualizer]
    human_action: "Review generated visualization quality"
    can_auto_proceed: false

  CP_RESPONSE_APPROVAL:
    level: recommended
    icon: "ğŸŸ "
    description: "Peer review response approval"
    applies_to: [G3-peer-review-strategist]
    human_action: "Approve response to reviewers"
    can_auto_proceed: false

  CP_PREREGISTRATION_APPROVAL:
    level: recommended
    icon: "ğŸŸ "
    description: "Pre-registration document approval"
    applies_to: [G4-preregistration-composer]
    human_action: "Review and approve pre-registration"
    can_auto_proceed: false

  # ============================================
  # OPTIONAL (ğŸŸ¡ Yellow) - Human can choose to review
  # ============================================
  CP_VISUALIZATION_PREFERENCE:
    level: optional
    icon: "ğŸŸ¡"
    description: "Visualization direction selection"
    applies_to: [A6-conceptual-framework-visualizer]
    human_action: "Select visualization direction (A/B/C)"
    default_if_skipped: "B"

  CP_RENDERING_METHOD:
    level: optional
    icon: "ğŸŸ¡"
    description: "Rendering method selection"
    applies_to: [A6-conceptual-framework-visualizer]
    human_action: "Choose Code-First, Nanobanana, or Hybrid"
    default_if_skipped: "Hybrid"

  # ============================================
  # ADDED in v8.2 - Previously missing definitions
  # ============================================
  CP_SAMPLING_STRATEGY:
    level: recommended
    icon: "ğŸŸ "
    description: "Sampling strategy approval"
    applies_to: [D1-sampling-strategy-advisor, D2-interview-focus-group-specialist]
    human_action: "Review and approve sampling strategy"
    can_auto_proceed: false

  CP_CODING_APPROACH:
    level: recommended
    icon: "ğŸŸ "
    description: "Qualitative coding approach selection"
    applies_to: [E2-qualitative-coding-specialist]
    human_action: "Select coding approach (deductive/inductive/hybrid)"
    can_auto_proceed: false

  CP_THEME_VALIDATION:
    level: recommended
    icon: "ğŸŸ "
    description: "Theme validation and approval"
    applies_to: [E2-qualitative-coding-specialist]
    human_action: "Validate identified themes"
    can_auto_proceed: false

  CP_HUMANIZATION_REVIEW:
    level: recommended
    icon: "ğŸŸ "
    description: "AI pattern analysis review"
    applies_to: [G5-academic-style-auditor]
    human_action: "Review AI pattern detection results"
    can_auto_proceed: false

  CP_HUMANIZATION_VERIFY:
    level: optional
    icon: "ğŸŸ¡"
    description: "Humanization result verification"
    applies_to: [G6-academic-style-humanizer]
    human_action: "Verify humanized text quality"
    default_if_skipped: "Accept"

  CP_SEARCH_STRATEGY:
    level: optional
    icon: "ğŸŸ¡"
    description: "Search strategy confirmation"
    applies_to: [B1-systematic-literature-scout]
    human_action: "Confirm search strategy"
    default_if_skipped: "Approve"

# Checkpoint validation rules
validation:
  required_checkpoints_must_pass: true
  max_auto_proceed_time: 60
  notify_on_checkpoint: true

# Checkpoint behavior (v6.0 - Human-Centered)
behavior:
  on_required_checkpoint:
    - STOP immediately
    - Present options with VS alternatives
    - WAIT for explicit human approval
    - DO NOT proceed until approval received
    - DO NOT assume approval based on context

  forbidden_patterns:
    - "ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤" # without asking
    - "Auto-approve based on implied consent"

  required_patterns:
    - "ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
    - "Which direction would you like to proceed?"
