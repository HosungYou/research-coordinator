{
  "$schema": "https://raw.githubusercontent.com/code-yeongyu/oh-my-opencode/main/schema.json",
  "name": "diverga",
  "version": "8.1.0",
  "description": "Diverga Research Coordinator - Multi-agent system for social science research",
  "author": "Hosung You",
  "repository": "https://github.com/HosungYou/Diverga",

  "plugins": [
    "./plugins/diverga"
  ],

  "settings": {
    "defaultModel": "sonnet",
    "checkpointEnforcement": "strict",
    "vsMethodology": true,
    "koreanSupport": true,
    "autoTrigger": true,
    "multiCLICompatible": true
  },

  "hooks": {
    "tool.execute.before": [
      "checkpoint-enforcer",
      "model-router"
    ],
    "tool.execute.after": [
      "vs-display",
      "state-update"
    ],
    "tui.prompt.append": [
      "auto-trigger"
    ],
    "session.created": [
      "load-context"
    ]
  },

  "commands": {
    "diverga:list": {
      "description": "List all available research agents",
      "handler": "listAgents"
    },
    "diverga:agent": {
      "description": "Show details for a specific agent",
      "handler": "showAgent",
      "args": ["agentId"]
    },
    "diverga:checkpoint": {
      "description": "Show checkpoint status",
      "handler": "showCheckpoints"
    },
    "diverga:tscore": {
      "description": "Display T-Score reference",
      "handler": "showTScore"
    },
    "diverga:context": {
      "description": "Show current research context",
      "handler": "showContext"
    },
    "diverga:setup": {
      "description": "Run initial setup wizard",
      "handler": "runSetup"
    },
    "diverga:help": {
      "description": "Show help and documentation",
      "handler": "showHelp"
    }
  },

  "triggers": {
    "A1": {
      "keywords": ["research question", "연구 질문", "PICO", "SPIDER", "RQ"],
      "autoActivate": true,
      "model": "opus"
    },
    "A2": {
      "keywords": ["theoretical framework", "이론적 프레임워크", "theory", "conceptual model"],
      "autoActivate": true,
      "model": "opus"
    },
    "A3": {
      "keywords": ["devil's advocate", "criticism", "weakness", "reviewer", "반론"],
      "autoActivate": true,
      "model": "opus"
    },
    "A4": {
      "keywords": ["ethics", "IRB", "consent", "informed consent", "연구 윤리"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "A5": {
      "keywords": ["paradigm", "worldview", "epistemology", "ontology", "패러다임"],
      "autoActivate": true,
      "model": "opus"
    },
    "A6": {
      "keywords": ["conceptual framework", "visualize framework", "프레임워크 시각화"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "B1": {
      "keywords": ["literature review", "PRISMA", "systematic review", "선행연구", "문헌 검색"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "B2": {
      "keywords": ["quality appraisal", "RoB", "GRADE", "bias assessment", "품질 평가"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "B3": {
      "keywords": ["effect size", "Cohen's d", "Hedges' g", "효과크기"],
      "autoActivate": true,
      "model": "haiku"
    },
    "B4": {
      "keywords": ["research trends", "emerging topics", "연구 동향"],
      "autoActivate": true,
      "model": "haiku"
    },
    "B5": {
      "keywords": ["batch PDF", "parallel processing", "multiple PDFs", "PDF 일괄 처리"],
      "autoActivate": true,
      "model": "opus"
    },
    "C1": {
      "keywords": ["experimental design", "RCT", "quasi-experimental", "양적 연구 설계"],
      "autoActivate": true,
      "model": "opus"
    },
    "C2": {
      "keywords": ["phenomenology", "grounded theory", "case study", "현상학", "근거이론"],
      "autoActivate": true,
      "model": "opus"
    },
    "C3": {
      "keywords": ["mixed methods", "혼합방법", "convergent", "sequential"],
      "autoActivate": true,
      "model": "opus"
    },
    "C4": {
      "keywords": ["experimental materials", "intervention materials", "중재 자료"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "C5": {
      "keywords": ["meta-analysis", "메타분석", "MASEM", "pooled effect"],
      "autoActivate": true,
      "model": "opus"
    },
    "C6": {
      "keywords": ["data extraction", "PDF extract", "데이터 추출"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "C7": {
      "keywords": ["error prevention", "validation", "데이터 확인"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "D1": {
      "keywords": ["sampling", "sample size", "G*Power", "표집"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "D2": {
      "keywords": ["interview", "focus group", "interview protocol", "면담"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "D3": {
      "keywords": ["observation", "observation protocol", "관찰"],
      "autoActivate": true,
      "model": "haiku"
    },
    "D4": {
      "keywords": ["instrument", "measurement", "scale development", "척도 개발"],
      "autoActivate": true,
      "model": "opus"
    },
    "E1": {
      "keywords": ["statistical analysis", "ANOVA", "regression", "SEM", "통계 분석"],
      "autoActivate": true,
      "model": "opus"
    },
    "E2": {
      "keywords": ["qualitative coding", "thematic analysis", "coding", "질적 코딩"],
      "autoActivate": true,
      "model": "opus"
    },
    "E3": {
      "keywords": ["mixed methods integration", "joint display", "통합 분석"],
      "autoActivate": true,
      "model": "opus"
    },
    "E4": {
      "keywords": ["R code", "Python code", "analysis code", "분석 코드"],
      "autoActivate": true,
      "model": "haiku"
    },
    "E5": {
      "keywords": ["sensitivity analysis", "robustness check", "민감도 분석"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "F1": {
      "keywords": ["consistency check", "internal consistency", "일관성 검토"],
      "autoActivate": true,
      "model": "haiku"
    },
    "F2": {
      "keywords": ["checklist", "CONSORT", "STROBE", "COREQ", "체크리스트"],
      "autoActivate": true,
      "model": "haiku"
    },
    "F3": {
      "keywords": ["reproducibility", "replication", "OSF", "재현성"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "F4": {
      "keywords": ["bias detection", "trustworthiness", "편향 탐지"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "F5": {
      "keywords": ["humanization verify", "AI text check", "휴먼화 검증"],
      "autoActivate": true,
      "model": "haiku"
    },
    "G1": {
      "keywords": ["journal match", "where to publish", "target journal", "저널 매칭"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "G2": {
      "keywords": ["academic writing", "manuscript", "write paper", "논문 작성"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "G3": {
      "keywords": ["peer review", "reviewer response", "revision", "리뷰어 응답"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "G4": {
      "keywords": ["preregistration", "OSF", "pre-register", "사전등록"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "G5": {
      "keywords": ["AI pattern", "check AI writing", "style audit", "AI 패턴"],
      "autoActivate": true,
      "model": "sonnet"
    },
    "G6": {
      "keywords": ["humanize", "humanization", "natural writing", "휴먼화"],
      "autoActivate": true,
      "model": "opus"
    },
    "H1": {
      "keywords": ["ethnography", "fieldwork", "participant observation", "민족지학"],
      "autoActivate": true,
      "model": "opus"
    },
    "H2": {
      "keywords": ["action research", "participatory", "practitioner", "실행연구"],
      "autoActivate": true,
      "model": "opus"
    }
  },

  "modelRouting": {
    "HIGH": {
      "model": "opus",
      "agents": ["A1", "A2", "A3", "A5", "B5", "C1", "C2", "C3", "C5", "D4", "E1", "E2", "E3", "G6", "H1", "H2"]
    },
    "MEDIUM": {
      "model": "sonnet",
      "agents": ["A4", "A6", "B1", "B2", "C4", "C6", "C7", "D1", "D2", "E5", "F3", "F4", "G1", "G2", "G3", "G4", "G5"]
    },
    "LOW": {
      "model": "haiku",
      "agents": ["B3", "B4", "D3", "E4", "F1", "F2", "F5"]
    }
  },

  "checkpoints": {
    "required": [
      "CP_RESEARCH_DIRECTION",
      "CP_PARADIGM_SELECTION",
      "CP_THEORY_SELECTION",
      "CP_METHODOLOGY_APPROVAL",
      "CP_VS_001",
      "CP_VS_003"
    ],
    "recommended": [
      "CP_ANALYSIS_PLAN",
      "CP_INTEGRATION_STRATEGY",
      "CP_QUALITY_REVIEW",
      "CP_SCREENING_CRITERIA",
      "CP_SAMPLING_STRATEGY",
      "CP_CODING_APPROACH",
      "CP_THEME_VALIDATION"
    ],
    "optional": [
      "CP_VISUALIZATION_PREFERENCE",
      "CP_SEARCH_STRATEGY",
      "CP_WRITING_STYLE",
      "CP_PROTOCOL_DESIGN"
    ]
  },

  "compatibility": {
    "claudeCode": {
      "supported": true,
      "invocation": "Task(subagent_type='diverga:a1', ...)",
      "pluginPath": "~/.claude/plugins/diverga/"
    },
    "codexCLI": {
      "supported": true,
      "invocation": "Read skill file, follow instructions",
      "pluginPath": "~/.codex/skills/diverga/"
    },
    "openCode": {
      "supported": true,
      "invocation": "oh-my-opencode compatible",
      "pluginPath": "~/.config/opencode/plugins/diverga/"
    }
  }
}
