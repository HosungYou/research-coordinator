# Diverga v8.0.2 Release Notes

## Doctor Diagnostics Skill

**Release Date**: 2026-02-07
**Version**: 8.0.2
**Type**: Feature Addition

---

## Summary

Added `/diverga:doctor` — a system diagnostics skill that checks Diverga plugin health and reports issues with actionable fix commands. Follows the OpenClaw Check-Report-Fix pattern.

Previously, the `/diverga` dashboard referenced `/diverga:doctor` in Quick Actions, but the skill didn't exist (causing "Unknown skill" error). This release resolves that gap.

---

## New Skill: `/diverga:doctor`

### 5-Layer Diagnostic Checks

| # | Layer | What It Checks | Tools Used |
|---|-------|---------------|------------|
| 1 | **Plugin Health** | `installed_plugins.json` registration, config JSON validity | Read |
| 2 | **Skill Sync** | Plugin vs local skill count, missing skills | Glob |
| 3 | **Config Validity** | `diverga-config.json` fields: version, checkpoints, language, routing | Read |
| 4 | **API Keys** | 8 environment variables (Groq, Anthropic, OpenAI, Gemini, Semantic Scholar, OpenAlex, Scopus, WoS) | Bash (parallel) |
| 5 | **Project State** | `.research/` directory, `project-state.yaml` validity | Glob + Read |

### Output Format

```
DIVERGA SYSTEM DIAGNOSTICS v8.0.1
══════════════════════════════════

PLUGIN HEALTH
  Registration:    [PASS/FAIL]
  Config file:     [PASS/FAIL]

SKILL SYNC
  Plugin skills:   [count]
  Local skills:    [count]
  Sync status:     [PASS/WARN]

CONFIG VALIDITY
  Version:         [PASS/WARN]
  Checkpoints:     [PASS/FAIL]

API STATUS
  Groq:            [configured/NOT SET]
  Anthropic:       [configured/NOT SET]
  ...

PROJECT STATE
  Active project:  [name/No active project]

------------------------------------------
OVERALL: [HEALTHY / WARNINGS / ERRORS]
```

### Design Principles (from OpenClaw)

1. **Check-Report-Fix**: Every detected issue includes a fix command
2. **Read-only**: Does not modify any files
3. **Graceful degradation**: Shows "UNABLE TO CHECK" on errors, never crashes
4. **Fast**: Target execution under 10 seconds
5. **Parallel API checks**: All 8 env var checks run simultaneously

---

## Files Changed

| File | Action | Description |
|------|--------|-------------|
| `skills/doctor/SKILL.md` | Added | Doctor diagnostics skill |
| `CHANGELOG.md` | Updated | Added v8.0.2 entry |
| `skills/help/SKILL.md` | Updated | Added doctor to commands list |
| `docs/releases/v8.0.2-RELEASE-NOTES.md` | Added | This release note |

---

## Installation

Existing users can update:

```bash
# Via plugin update
/plugin install diverga

# Or manual copy
cp Diverga/skills/doctor/SKILL.md ~/.claude/plugins/diverga/skills/doctor/SKILL.md
cp Diverga/skills/doctor/SKILL.md ~/.claude/skills/diverga-doctor/SKILL.md
```

## Verification

```bash
/diverga:doctor    # Should show 5-layer diagnostics
/diverga           # Dashboard Quick Actions → doctor link works
```
