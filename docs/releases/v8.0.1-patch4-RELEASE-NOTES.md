# Diverga v8.0.1-patch4 Release Notes

**Release Date**: 2026-02-07
**Codename**: "English-First"
**Previous Version**: v8.0.1-patch3

---

## Summary

v8.0.1-patch4 is a quality-of-life release that standardizes all UI text to English, fixes terminal rendering issues, adds a live configuration dashboard, removes external branding references, and includes a comprehensive upgrade roadmap.

---

## Changes

### Phase A: English-First UI

All user-facing dialog text now defaults to English. Claude Code naturally responds in the user's input language — no explicit language configuration is needed.

**Files Modified (5)**:
- `config/diverga-config.json` — `"language"` changed from `"auto"` to `"en"`
- `CLAUDE.md` — Language directive simplified; Korean checkpoint examples translated to English
- `skills/setup/SKILL.md` — Setup simplified from 3 steps to 2 steps (removed language selection); config template version fixed to "8.0.1"
- `skills/research-coordinator/SKILL.md` — All Korean dialog text in checkpoint protocol, paradigm detection, and workflow examples translated to English
- `skills/research-orchestrator/SKILL.md` — Core principle, purpose paragraph, example dialogs, and key principle box translated to English

**Key Changes**:
- Setup wizard reduced from 3 steps to 2 steps (Checkpoint Level + HUD Configuration)
- Language selection step removed — unnecessary since Claude Code auto-detects from user input
- Korean trigger keywords in agent descriptions preserved (they enable natural-language detection, not UI text)

### Phase A.5: Box-Drawing Layout Fixes

Unicode emoji characters display as 2 columns in monospace terminals but count as 1 character in string length, breaking right-border alignment in box-drawing layouts. All emoji in box-drawing contexts replaced with ASCII equivalents.

**Emoji to ASCII Replacement Table**:

| Emoji | Replacement | Context |
|-------|-------------|---------|
| (cross mark) | `[X]` | NEVER rules |
| (check mark) | `[OK]` | ALWAYS rules |
| (red circle) | `[!]` | Required checkpoints |
| (green circle) | `+` | Common T-Score |
| (yellow circle) | `~` | Moderate T-Score |
| Category emoji | `[A]`-`[I]` | Agent category labels |
| (target) | `*` | Taglines |

**Files Modified (5)**:
- `README.md` — Logo tagline emoji replaced; agent ecosystem categories use `[A]`-`[I]` ASCII labels
- `AGENTS.md` — Checkpoint protocol box: Korean+emoji replaced with English+ASCII
- `.codex/diverga-codex.cjs` — Added `visualWidth()` and `visualPadEnd()` helper functions for emoji-aware padding; fixed agent detail box, T-Score table, and banner
- `qa/docs/CHECKPOINT_SPEC.md` — All Korean headers translated; emoji replaced with ASCII `[X]`, `[OK]`, `[!]`

### Phase B: Dashboard Main Screen (`/diverga`)

The `/diverga` base command now displays a live configuration dashboard instead of loading the research coordinator directly.

**Dashboard Sections**:
- ASCII art logo with version number
- System status (version, agent count, readiness)
- Configuration overview (checkpoint level, HUD preset, VS method)
- Active project status (name, stage, memory health, decisions)
- API status for paper retrieval (Semantic Scholar, OpenAlex, Scopus, WoS)
- LLM provider status for batch screening (Groq, Anthropic, OpenAI, Ollama)
- MCP integration status (Zotero, Claude Code Browser, Gemini)
- Quick action shortcuts

**File Modified (1)**:
- `skills/diverga/SKILL.md` — Completely rewritten as live dashboard

### Phase C: Branding Cleanup

Removed all external "ScholaRAG" branding from active plugin files. Category I agents (I0-I3) and their systematic review functionality are fully retained — only the external brand name was removed to avoid researcher confusion.

**Files Modified (20+)**:
- Category I skills: `skills/i0/SKILL.md`, `skills/i1/SKILL.md`, `skills/i2/SKILL.md`, `skills/i3/SKILL.md`
- Category I agents: `agents/i0.md`, `agents/i1.md`, `agents/i2.md`, `agents/i3.md`
- Core docs: `CLAUDE.md`, `AGENTS.md`, `README.md`, `PLUGIN.md`, `docs/SDD.md`
- Supporting files: `templates/README.md`, `src/agents/definitions.ts`, `docs/AGENT-REFERENCE.md`
- Checkpoints: `.claude/checkpoints/scholarag-checkpoints.yaml` renamed to `review-checkpoints.yaml`
- Memory system: `lib/memory/README.md`, `lib/memory/src/memory_api.py`, `lib/memory/src/checkpoint_trigger.py`

**Historical files preserved** (qa/reports, docs/releases, CHANGELOG, docs/plans) — these correctly document the integration history.

### Phase D: Upgrade Roadmap

Created comprehensive strategic roadmap document covering v8.1.0 through v9.x.

**File Created (1)**:
- `docs/UPGRADE-ROADMAP-v8.1-v9.md`

**Roadmap Highlights**:
- **P0 (v8.1.0)**: Unified state interface, lib/ cleanup
- **P1 (v8.2.0)**: Enhanced database selection, browser-assisted institutional DB access, persistent screening state, Zotero MCP integration
- **P2 (v9.0.0)**: Opus 4.6 features — extended thinking for C5, agentic coding for E4, enhanced A3
- **P3 (v9.1.0)**: Multi-researcher support, active learning screening, citation network analysis

---

## Testing

New test file: `tests/test_patch4_changes.py`

| Test Class | Tests | Description |
|-----------|-------|-------------|
| `TestEnglishFirstUI` | 6 | Config language, setup steps, version, English-only checkpoints |
| `TestBoxDrawingFixes` | 6 | ASCII markers, no emoji in boxes, visualWidth helper |
| `TestBrandingRemoval` | 3 | No external branding in 15+ active files, checkpoint file renamed |
| `TestDashboard` | 5 | Dashboard sections present, ASCII logo |
| `TestUpgradeRoadmap` | 4 | Roadmap exists, P0-P3 sections, no external branding |

Run tests:
```bash
cd ~/.claude/plugins/diverga
python3 -m pytest tests/test_patch4_changes.py -v
```

---

## Compatibility

- **No breaking changes** from v8.0.1-patch3
- Existing `.research/` projects are unaffected
- Config files with `"language": "auto"` will still work (Claude Code ignores this field)
- All 44 agents and 8 system skills remain functional

---

## Upgrade Instructions

No special upgrade steps required. Pull the latest changes:

```bash
cd ~/.claude/plugins/diverga
git pull origin main
```

If using local skill symlinks, re-sync:
```bash
for skill_dir in skills/*/; do
  skill_name=$(basename "$skill_dir")
  cp -r "$skill_dir" ~/.claude/skills/diverga-${skill_name}
done
```

---

## Known Issues

- Historical files (qa/reports, CHANGELOG, docs/plans) still contain "ScholaRAG" references — these are preserved as project history
- The `UPGRADE_ROADMAP.md` at root is a summary; the comprehensive roadmap is at `docs/UPGRADE-ROADMAP-v8.1-v9.md`

---

## Contributors

- Hosung You (@HosungYou)
- Claude Code (AI assistant)

---

## What's Next

See `docs/UPGRADE-ROADMAP-v8.1-v9.md` for the full strategic roadmap.

**v8.1.0 priorities**:
1. Unified state interface (eliminate 6 competing state systems)
2. lib/ cleanup (archive legacy TypeScript registry)
3. UI/UX consistency audit across all 44 agents
